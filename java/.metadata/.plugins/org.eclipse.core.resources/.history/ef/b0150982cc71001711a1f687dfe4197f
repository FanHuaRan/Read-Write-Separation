package com.fhr.osmonitor.utils;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

public class ObjcetSerializableUtils {
	/**  
     * 对象转数组  
     * @param obj  
     * @return  
	 * @throws IOException 
     */  
    public byte[] toByteArray (Object obj) throws IOException {      
        try(ByteArrayOutputStream bos = new ByteArrayOutputStream();      
            ObjectOutputStream oos = new ObjectOutputStream(bos)){      
            oos.writeObject(obj);        
            oos.flush();         
            byte[] bytes = bos.toByteArray ();      
            return bytes;
        }
    }   
       
    /**  
     * 数组转对象  
     * @param bytes  
     * @return  
     * @throws IOException 
     * @throws ClassNotFoundException 
     */  
    public Object toObject (byte[] bytes) throws ClassNotFoundException, IOException {      
        try( ByteArrayInputStream bis = new ByteArrayInputStream (bytes);   
              ObjectInputStream ois = new ObjectInputStream (bis)) {        
        	Object obj = ois.readObject(); 
            return obj;    
        } 
    }   
}
