package com.fhr.readwritedemo.services.impl;

import java.io.File;
import java.io.IOException;
import java.util.List;

import org.apache.commons.io.FileUtils;
import org.apache.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.alibaba.fastjson.JSONArray;
import com.fhr.readwritedemo.gloable.GloableConfig;
import com.fhr.readwritedemo.models.DataBaseModel;
import com.fhr.readwritedemo.services.IDataBaseInitialService;
/**
 * 数据库初始化服务实现
 * @author fhr
 * @date 2017/07/29
 */
@Service
public class DataBaseInitialServiceImpl implements IDataBaseInitialService{
	private static final Logger logger=Logger.getLogger(DataBaseInitialServiceImpl.class);
	
	@Autowired
	private GloableConfig gloableConfig=null;
	
	@Override
	public List<DataBaseModel> getDataBaseModels() {
		File configFile=new File(gloableConfig.getDatabaseConfigFile());
		if(!configFile.exists()){
			logger.error("数据库配置文件不存在");
			return null;
		}
		try {
			String dataBaseConfigStr=FileUtils.readFileToString(configFile);
			JSONArray jsonArray=JSONArray.parseArray(dataBaseConfigStr);
			
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

}
